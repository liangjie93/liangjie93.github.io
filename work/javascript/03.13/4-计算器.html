<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>计算器</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		.calculator{
			border:2px #aaa solid;
			width: 204px;
			height: 170px;
			margin:0 auto;
		}
		#txt{
			width: 200px;
			height: 30px;
			border:1px #aaa solid;
			margin: 1px;
		}
		.btn{
			width: 43px;
			height: 25px;
			margin: 5px 1px;
		}

	</style>
</head>
<body>
	<div class="calculator">
		<input type="text"  id="txt">								
		<!-- 
		<div class="box1">
			<input type="button" value="7" class="btn" onclick="getNum(7)">
			<input type="button" value="8" class="btn" onclick="getNum(8)">	
			<input type="button" value="9" class="btn" onclick="getNum(9)">
			<input type="button" value="+" class="btn" onclick="getNum('+')">		
		</div>
		<div class="box2">
			<input type="button" value="4" class="btn" onclick="getNum(4)">
			<input type="button" value="5" class="btn" onclick="getNum(5)">
			<input type="button" value="6" class="btn" onclick="getNum(6)">
			<input type="button" value="-" class="btn" onclick="getNum('-')">
		</div>
		<div class="box3">
			<input type="button" value="1" class="btn" onclick="getNum(1)">
			<input type="button" value="2" class="btn" onclick="getNum(2)">
			<input type="button" value="3" class="btn" onclick="getNum(3)">
			<input type="button" value="*" class="btn" onclick="getNum('*')">
		</div>
		<div class="box4">
			<input type="button" value="0" class="btn" onclick="getNum(0)">
			<input type="button" value="." class="btn" onclick="getNum('.')">
			<input type="button" value="=" class="btn" onclick="getResult()">
			<input type="button" value="/" class="btn" onclick="getNum('/')">	
		</div>
		 -->
	 	<div class="box1">
			<input type="button" value="7" class="btn num" >
			<input type="button" value="8" class="btn num" >	
			<input type="button" value="9" class="btn num" >
			<input type="button" value="+" class="btn sign" >		
		</div>
		<div class="box2">			
			<input type="button" value="4" class="btn num">
			<input type="button" value="5" class="btn num">
			<input type="button" value="6" class="btn num">
			<input type="button" value="-" class="btn sign">
		</div>
		<div class="box3">
			<input type="button" value="1" class="btn num">
			<input type="button" value="2" class="btn num">
			<input type="button" value="3" class="btn num">
			<input type="button" value="*" class="btn sign">
		</div>
		<div class="box4">
			<input type="button" value="0" class="btn num" >
			<input type="button" value="C" class="btn clear" >
			<input type="button" value="=" class="btn result" >
			<input type="button" value="/" class="btn sign" >	
		</div>
		
	</div>
	
	<!-- 数字 操作符 C -->
	<script src="../jquery-1.11.1.js"></script>
	<script>
		var num1 = "";			//定义全局变量
		var num2 = "";
		var sign = "";
		var result = 0;

		$(".num").click(function(){		//点击数字
			var val = $(this).val();	
			if(sign == ""){			//如果符号为空
				num1 += val;	//第一个数字的第一个字符,第一个数字的第下一个字符
				$("#txt").val(num1);	//显示第一个数字
			}else{			//符号不为空时
				num2 +=val;
				$("#txt").val(num2);		//显示第二个数字
			}
		})
		$(".sign").click(function(){		//点击符号
			sign = $(this).val();
		})
		$(".result").click(function(){		//计算结果
			var number1 = Number(num1);		//将字符型转换为数值型
			var number2 = Number(num2);
			switch(sign) {			//switch循环语句 sign是变量
				case "+":result = number1 + number2;break;
				case "-":result = number1 - number2;break;
				case "*":result = number1 * number2;break;
				case "/":result = number1 / number2;break;
			}
			$("#txt").val(result);		//显示计算结果
		})
		$(".clear").click(function(){		//点击清除
			num1="";		//数字为空
			num2="";		
			sign="";		//符号为空
			$("#txt").val("");		//显示结果为空
		})

			/* 	调试：
				1.有没有错误信息
				2.看事件有没有执行
				3.如果事件没有执行，那么错误在事件外面。
				4.如果事件执行了，用console.log输出变量，看是否符合预期。
			*/


		/*
		var clearFlag=false;		
		//自定义的变量clearFlag,这是一个js的布尔变量。
		//clearFlag是全局变量.第一个是如果他为true,就把id为result的元素值设为num.第二个就是把设为true.还有把值改为value=value.
		function getNum(num){		//用于输入数字和符号
		 //alert(num);
			var objresult=document.getElementById("result");
		 	if(clearFlag){
			objresult.value="";
			clearFlag=false;
			}
		 //alert(objresult);
			objresult.value+=num;
		}
		function getResult(){		//用于计算结果 
			var objresult=document.getElementById("result");
			objresult.value=objresult.value+"="+eval(objresult.value);
			clearFlag=true;
		}	
		*/
		</script>

</body>
</html>