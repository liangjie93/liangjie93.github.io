<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>闭包</title>
</head>
<body>
	<p>"this is a note"</p>
	<p>在console输出</p>
	<!-- 函数嵌套形成闭包 -->
	<!-- 内部函数没有执行完时 外部函数不会被销毁 -->
	
	<ul>
		<li class="num">1</li>
		<li class="num">2</li>
		<li class="num">3</li>
		<li class="num">4</li>
		<li class="num">5</li>
	</ul>
	<script>
/*		function outfun(){
			num = 10;
			function infun(){
				return num;
			}
			return infun;
		}

		var fun = outfun();
		//var result = fun();
		console.log(fun());
*/

/*		var aNum = document.getElementsByClassName("num");
		for(var i=0;i<aNum.length;i++){
			aNum[i].onclick = function(x){	
			//x是形参 没有点击时 x依次为0、1、2、3、4  执行点击事件后显示x的值
			//onclick 绑定函数 值是函数的返回值
			//使用立即执行函数 返回值是函数
				return function(){
					console.log(x)
				}
			}(i)	//立即执行函数 i是实参
		}
*/

		function fun(callback){	//回调函数 callback=function(result)
			var obj = {name:"hello"}
			callback(obj);
		}
		fun(function(result){	//自动调用结果 与参数（result）无关 result=object {name:"hello"}
			console.log(result.name)	//调用属性name的值
		})


	</script>
</body>
</html>